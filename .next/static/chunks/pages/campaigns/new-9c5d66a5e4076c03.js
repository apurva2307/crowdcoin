(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{34166:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/new",function(){return t(92344)}])},67156:function(e,n,t){"use strict";var r,i=t(3283),a=t.n(i);if("undefined"!==typeof window.ethereum)window.ethereum.request({method:"eth_requestAccounts"}),r=new(a())(window.ethereum);else{var u=new(a().providers.HttpProvider)("https://rinkeby.infura.io/v3/7ceffe874ca8484d93c3898d7b621466");r=new(a())(u)}n.Z=r},92344:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return h}});var r=t(34051),i=t.n(r),a=t(85893),u=t(25538),s=t(68156),o=t(80967),c=t(67294),p=t(11163),f=t(67156),d=JSON.parse('{"Mt":[{"inputs":[{"internalType":"uint256","name":"minimum","type":"uint256"},{"internalType":"string","name":"desc","type":"string"}],"name":"createCampaign","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"deployedCampaigns","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDeployedCampaigns","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"}]}'),l=new f.Z.eth.Contract(d.Mt,"0x6275156015949C2b2124a14Ffd57Ce6449d78883");function m(e,n,t,r,i,a,u){try{var s=e[a](u),o=s.value}catch(c){return void t(c)}s.done?n(o):Promise.resolve(o).then(r,i)}var h=function(){var e=(0,c.useState)(!1),n=e[0],t=e[1],r=(0,c.useState)(""),d=r[0],h=r[1],v=(0,c.useState)(""),y=v[0],w=v[1],g=(0,c.useState)(""),C=g[0],b=g[1],x=(0,p.useRouter)(),_=function(){var e,n=(e=i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),h(""),t(!0),e.prev=3,e.next=6,f.Z.eth.getAccounts();case 6:return r=e.sent,e.next=9,l.methods.createCampaign(C,y).send({from:r[0]});case 9:x.push({pathname:"/",query:{msgFlash:!0}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),h(e.t0.message);case 15:t(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function u(e){m(a,r,i,u,s,"next",e)}function s(e){m(a,r,i,u,s,"throw",e)}u(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:"Create a Campaign"}),(0,a.jsxs)(u.Z,{error:!!d,onSubmit:_,children:[(0,a.jsx)(u.Z.Input,{fluid:!0,label:"Description of Campaign",placeholder:"description",value:y,onChange:function(e){return w(e.target.value)}}),(0,a.jsx)(u.Z.Input,{fluid:!0,label:"Minimum contribution",placeholder:"please enter amount in wei",value:C,onChange:function(e){return b(e.target.value)}}),C&&(0,a.jsxs)("p",{className:"ether",children:[f.Z.utils.fromWei(C)," ether"]}),(0,a.jsx)(s.Z,{error:!0,header:"Oops..",content:d}),(0,a.jsx)(o.Z,{primary:!0,loading:n,children:"Create"})]})]})}},62859:function(){},75304:function(){},88677:function(){},62808:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},52361:function(){},94616:function(){},6567:function(){},56773:function(){},33557:function(){}},function(e){e.O(0,[482,714,625,389,538,774,888,179],(function(){return n=34166,e(e.s=n);var n}));var n=e.O();_N_E=n}]);