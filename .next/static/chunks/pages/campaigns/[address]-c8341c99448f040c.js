(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{94941:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/[address]",function(){return n(33867)}])},33867:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return j},default:function(){return w}});var r=n(85893),a=n(67156),s=n(52256),i=n(18005),o=n(80967),u=n(34051),c=n.n(u),d=n(25538),h=n(68156),l=n(67294),m=n(11163),p=n(86863);function f(e,t,n,r,a,s,i){try{var o=e[s](i),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(r,a)}var v=function(e){var t=e.address,n=e.setSuccessMessage,s=(0,l.useState)(!1),i=s[0],u=s[1],v=(0,l.useState)(""),x=v[0],g=v[1],b=(0,l.useState)(""),j=b[0],w=b[1],C=(0,m.useRouter)(),Z=function(){var e,r=(e=c().mark((function e(r){var s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),g(""),u(!0),e.prev=3,e.next=6,a.Z.eth.getAccounts();case 6:return s=e.sent,i=(0,p.Z)(t),e.next=10,i.methods.contribute().send({from:s[0],value:a.Z.utils.toWei(j,"ether")});case 10:n("You have successfully contributed to this campaign."),C.replace(C.asPath),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),g(e.t0.message);case 17:u(!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){f(s,r,a,i,o,"next",e)}function o(e){f(s,r,a,i,o,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:"Contribute to this Campaign"}),(0,r.jsxs)(d.Z,{error:!!x,onSubmit:Z,children:[(0,r.jsx)(d.Z.Input,{fluid:!0,label:"Contribution amount",placeholder:"please enter amount in ether",value:j,onChange:function(e){return w(e.target.value)}}),(0,r.jsx)(h.Z,{error:!0,header:"Oops..",content:x}),(0,r.jsx)(o.Z,{primary:!0,loading:i,children:"Contribute"})]})]})},x=n(41664),g=n.n(x),b=n(2958),j=!0,w=function(e){var t=e.campaignDetails,n=t.address,u=t.description,c=t.minContribution,d=t.balance,h=t.requestsCount,m=t.approversCount,p=t.manager,f=(0,l.useState)(""),x=f[0],j=f[1];return x&&setTimeout((function(){j("")}),6e3),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Campaign Details"}),(0,r.jsxs)("div",{className:"camp-address",children:[(0,r.jsx)("b",{children:"Campaign Address: "}),n]}),(0,r.jsxs)("div",{className:"camp-about",children:[(0,r.jsx)("b",{children:"About campaign: "}),u]}),(0,r.jsx)("h3",{}),(0,r.jsx)(b.Z,{color:"green",header:"Success!",msg:x}),(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(i.Z.Row,{children:[(0,r.jsx)(i.Z.Column,{width:10,children:function(){var e=[{header:p,meta:"Address of Manager of this Campaign",description:"The manager created this campaign and can create requests to withdraw money.",style:{overflowWrap:"break-word"}},{header:c,meta:"Minimum Contribution (wei)",description:"You must contribute at least this much wi to become an approver."},{header:h,meta:"Total number of requests",description:"A request tries to withdraw money from this campaign contract. Requests must be approved by approvers."},{header:m,meta:"Total number of approvers",description:"Number of people who have already donated to this campaign."},{header:a.Z.utils.fromWei(d,"ether"),meta:"Campaign balance (ether)",description:"The balance is how much money this campaign has left to spend."}];return(0,r.jsx)(s.Z.Group,{items:e})}()}),(0,r.jsx)(i.Z.Column,{width:6,children:(0,r.jsx)(v,{address:n,setSuccessMessage:j})})]}),(0,r.jsx)(i.Z.Row,{children:(0,r.jsx)(i.Z.Column,{children:(0,r.jsx)(g(),{href:{pathname:"/campaigns/[slug]/requests",query:{slug:n}},children:(0,r.jsx)("a",{children:(0,r.jsx)(o.Z,{primary:!0,children:"View Requests"})})})})})]})]})}}},function(e){e.O(0,[482,714,625,389,538,299,521,774,888,179],(function(){return t=94941,e(e.s=t);var t}));var t=e.O();_N_E=t}]);